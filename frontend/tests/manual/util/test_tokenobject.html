<html>
<head>
<title>TokenObject Tester</title>

<script type="text/javascript">
	var djConfig = { isDebug: false }; 
</script>   

<script type="text/javascript" src="../../../js/dojo/dojo.js"></script> 

<script type="text/javascript"> 
	dojo.require("bespin.util.tokenobject");    
</script>

</head>

<body>
	
	<script>
	function calculate() {
		var test = new bespin.util.TokenObject(document.getElementById("input").value, { 
			splitBy: document.getElementById("regex").value,
			params: document.getElementById("params").value
		});
		
		var rawIndex = document.getElementById("index").value;
		var intValue = parseInt(rawIndex);
		var trueParam = (isNaN(intValue)) ? rawIndex : intValue;

		document.getElementById("results").value = test.param(trueParam);
	}
	</script>
	
	<table cellspacing="6">
		<tr valign="top">
			<td>Input String</td><td><input type="text" id="input" value="one two three"></td>
		</tr>
		<tr valign="top">
			<td>Input Regex</td><td><input type="text" id="regex" value="\s+"></td>
		</tr>
		<tr valign="top">
			<td>Named params?</td><td><input type="text" id="params" value=""></td>
		</tr>
		<tr valign="top">
			<td>Which piece?</td><td><input type="text" id="index" value="1"></td>
		</tr>
		<tr valign="top">
			<td>Results</td><td><textarea id="results" disabled="true"></textarea></td>
		</tr>
		<tr valign="top">
			<td colspan="2"><input type="button" onclick="calculate()" value="Calculate"/></td>
		</tr>
	</table>
	
	
</body>
</html>